<mat-checkbox [(ngModel)]="checked" (ngModelChange)="onChange($event)">
  {{ product.label }}
</mat-checkbox>
<div class="child-product" *ngIf="(products$ | async).length > 0 && checked">
  <i>
    <mat-checkbox [(ngModel)]="checkAll" (ngModelChange)="onCheckAll($event)">
      Check All
    </mat-checkbox>
  </i>
</div>
<div class="child-product" *ngFor="let product of (products$ | async)">
  <app-product *ngIf="checked" [product]="product" [checked]="checkAll"></app-product>
</div>